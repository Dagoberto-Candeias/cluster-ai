# =============================================================================
# Configuração do Sistema de Auto Atualização - Cluster AI
# =============================================================================
# Define as configurações para o sistema de verificação e aplicação de atualizações
#
# Autor: Cluster AI Team
# Data: 2025-01-20
# Versão: 1.0.0
# Arquivo: update.conf
# =============================================================================

[GENERAL]
# Frequência de verificação de atualizações (em minutos)
CHECK_INTERVAL=60

# Habilitar notificações automáticas
AUTO_NOTIFY=true

# Habilitar backups automáticos antes das atualizações
AUTO_BACKUP=true

# Diretório para backups
BACKUP_DIR=${PROJECT_ROOT}/backups/auto_update

# Número máximo de backups a manter
MAX_BACKUPS=5

# Habilitar rollback automático em caso de falha
AUTO_ROLLBACK=true

# Timeout para operações de atualização (em segundos)
UPDATE_TIMEOUT=1800

[REPOSITORY]
# URL do repositório Git
GIT_REPO_URL=

# Branch principal para atualizações
GIT_BRANCH=main

# Habilitar verificação de atualizações do Git
GIT_CHECK_ENABLED=true

# Verificar por atualizações a cada N verificações
GIT_CHECK_FREQUENCY=1

[DOCKER]
# Habilitar verificação de atualizações de containers Docker
DOCKER_CHECK_ENABLED=true

# Lista de containers a verificar (separados por vírgula)
DOCKER_CONTAINERS=open-webui,nginx,ollama

# Verificar por atualizações a cada N verificações
DOCKER_CHECK_FREQUENCY=6

# Política de atualização de containers
# - never: nunca atualizar automaticamente
# - ask: perguntar antes de atualizar
# - auto: atualizar automaticamente
DOCKER_UPDATE_POLICY=ask

[SYSTEM]
# Habilitar verificação de atualizações do sistema operacional
SYSTEM_CHECK_ENABLED=true

# Gerenciador de pacotes do sistema
# Detectado automaticamente, mas pode ser forçado:
# - apt (Debian/Ubuntu)
# - dnf (Fedora/RHEL)
# - pacman (Arch)
# - zypper (openSUSE)
PACKAGE_MANAGER=auto

# Verificar por atualizações a cada N verificações
SYSTEM_CHECK_FREQUENCY=12

# Política de atualização do sistema
# - never: nunca atualizar automaticamente
# - ask: perguntar antes de atualizar
# - auto: atualizar automaticamente (PERIGOSO)
SYSTEM_UPDATE_POLICY=ask

[MODELS]
# Habilitar verificação de atualizações de modelos de IA
MODELS_CHECK_ENABLED=true

# Diretório dos modelos
MODELS_DIR=${PROJECT_ROOT}/models

# Verificar por atualizações a cada N verificações
MODELS_CHECK_FREQUENCY=24

# Política de atualização de modelos
# - never: nunca atualizar automaticamente
# - ask: perguntar antes de atualizar
# - auto: atualizar automaticamente
MODELS_UPDATE_POLICY=ask

[NOTIFICATIONS]
# Habilitar notificações por email
EMAIL_ENABLED=false

# Endereço de email para notificações
EMAIL_TO=

# Servidor SMTP
SMTP_SERVER=

# Porta SMTP
SMTP_PORT=587

# Usuário SMTP
SMTP_USER=

# Senha SMTP
SMTP_PASSWORD=

# Habilitar notificações no sistema
SYSTEM_NOTIFY_ENABLED=true

# Habilitar logs detalhados
LOG_ENABLED=true

# Nível de log (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

[ADVANCED]
# Habilitar modo de depuração
DEBUG_MODE=false

# Timeout para operações de rede (em segundos)
NETWORK_TIMEOUT=30

# Número máximo de tentativas para operações
MAX_RETRIES=3

# Delay entre tentativas (em segundos)
RETRY_DELAY=5

# Habilitar verificação de integridade após atualizações
INTEGRITY_CHECK_ENABLED=true

# Habilitar teste de conectividade após atualizações
CONNECTIVITY_TEST_ENABLED=true

# URLs para teste de conectividade (separadas por vírgula)
CONNECTIVITY_TEST_URLS=http://localhost:3000,http://localhost:11434

[EXCLUSIONS]
# Componentes a serem excluídos das atualizações automáticas
# (separados por vírgula)
EXCLUDED_COMPONENTS=

# Arquivos/diretórios a serem excluídos dos backups
# (separados por vírgula)
EXCLUDED_FROM_BACKUP=*.log,*.tmp,/tmp/*,/var/tmp/*

[WORKERS]
# Configurações específicas para workers
# Habilitar sincronização de atualizações com workers
WORKER_SYNC_ENABLED=true

# Timeout para sincronização com workers (em segundos)
WORKER_SYNC_TIMEOUT=300

# Número máximo de workers para sincronizar simultaneamente
MAX_WORKER_SYNC=5

# Habilitar rollback em workers em caso de falha
WORKER_ROLLBACK_ENABLED=true
